---
import { getCollection } from 'astro:content';

import Layout from '../../layouts/Layout.astro';
import Header from '../../components/sections/Header.astro';
import BlogList from '../../components/BlogList.astro';
import Footer from '../../components/sections/Footer.astro';
import type { Page } from "astro";
import type { CollectionEntry } from "astro:content";
import Pagination from '../../components/Pagination.astro';

export async function getStaticPaths({ paginate }) {
    const blogs = await getCollection("blogs");

    return paginate(blogs, {
        pageSize: 2,
    });
}

export interface Props {
  page: Page<CollectionEntry<"blogs">>;
}

const { page } = Astro.props;
---

<Layout title={`Blogs`}>
    <Header />
	<BlogList blogs={page?.data || []} />
    <Pagination page={page} />
    <Footer />
  </Layout>